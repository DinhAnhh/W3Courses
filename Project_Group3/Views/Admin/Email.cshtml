@model List<WebLibrary.Models.Report>
@{
    ViewData["Title"] = "Report Management";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<link rel="stylesheet" href="~/fonts/boxicons.css" />

<div class="card bg-theme p-0 mt-2 mb-5">
    <div class="container p-0 mt-3">
        <table class="datatables-basic table mb-5">
            <thead>
                <tr>
                    <th width="250" class="text-theme">Name</th>
                    <th width="250" class="text-theme">Email</th>
                    <th width="250" class="text-theme">Title</th>
                    <th width="400" class="text-theme">Content</th>
                    <th width="180" class="text-theme">Submitted Time</th>
                    <th width="70" class="text-theme">Action</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var report in @Model)
                {
                    <tr class="">
                        <td class="text-theme">@report.Name</td>
                        <td class="text-theme">@report.Email</td>
                        <td class="text-theme">@report.Title</td>
                        <td class="text-theme">@report.Content</td>
                        <td class="text-theme">@report.SubmittedTime</td>
                        <td class="text-theme">
                            <div class="action-icon d-flex text-center">
                                <a class="btn btn-warning mr-2"
                                    href="@Url.Action("Edit", "Report", new { id = report.ReportId })" title="Edit">
                                    <i class='bx bxs-edit'></i>
                                </a>
                                <a class="btn btn-danger" asp-action="DeleteReport" asp-route-id="@report.ReportId"
                                    title="Delete">
                                    <i class='bx bxs-trash-alt'></i>
                                </a>
                            </div>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

<!-- The Modal -->
<div class="modal" id="deleteModal">
    <div class="modal-dialog">
        <div class="modal-content bg-theme">
            <div class="modal-header">
                <h3 class="text-danger modal-title">Error</h3>
                <button type="button" class="btn-close bg-theme text-theme border-0" data-bs-dismiss="modal">x</button>
            </div>
            <div class="text-theme modal-body">
                You can't delete this report.
            </div>

            <!-- Modal footer -->
            <div class="modal-footer">
                <button type="button" class="btn btn-success" data-bs-dismiss="modal">OK</button>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
}
